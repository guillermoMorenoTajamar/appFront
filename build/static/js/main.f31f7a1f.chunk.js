(this["webpackJsonptodo-app-front"]=this["webpackJsonptodo-app-front"]||[]).push([[0],{18:function(e,t,c){},26:function(e,t,c){"use strict";c.r(t);var n=c(2),i=c.n(n),o=c(12),a=c.n(o),s=(c(18),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,27)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),o(e),a(e)}))}),d=c(13),r=c(3),l=c(6),j=c(0);function b(e){var t=Object(n.useState)(e.editItem),c=Object(r.a)(t,2),i=c[0],o=c[1];Object(n.useEffect)((function(){o(e.editItem)}),[e]);return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"card-header text-center",children:[-1===i.id?"New":"Edit"," To Do"]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Descripcion"}),Object(j.jsx)("input",{name:"description",className:"form-control",value:i.description,onChange:function(e){o(Object(l.a)(Object(l.a)({},i),{},{description:e.target.value}))}})]}),Object(j.jsxs)("div",{className:"form-check",children:[Object(j.jsx)("input",{name:"done",className:"form-check-input",type:"checkbox",checked:i.done,onChange:function(e){o(Object(l.a)(Object(l.a)({},i),{},{done:!i.done}))}}),Object(j.jsx)("label",{children:"Done"})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){e.createToDoCallback({id:i.id,description:i.description,done:i.done})},children:-1===i.id?"Create":"Save"}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary m-1",onClick:function(){e.cancelEditCallback()},children:"Cancel"})]})})]})}var h=c(10),u=c(11);function O(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.toDoItem.description}),Object(j.jsx)("td",{children:Object(j.jsx)("input",{type:"checkbox",defaultChecked:e.toDoItem.done,onChange:function(){e.checkDoneCallback(e.toDoItem.id)}})}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:function(){e.editCallback(e.toDoItem.id)},children:Object(j.jsx)(h.a,{icon:u.a})})}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){e.deleteCallback(e.toDoItem.id)},children:Object(j.jsx)(h.a,{icon:u.b})})})]})}function f(e){return e.loading?Object(j.jsxs)("div",{children:[Object(j.jsxs)("table",{className:"table table-striped",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Done"}),Object(j.jsx)("th",{children:"Delete"})]})}),Object(j.jsx)("tbody",{})]}),Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("div",{className:"spinner-border",role:"status",children:Object(j.jsx)("span",{className:"sr-only",children:"Loading..."})})})]}):Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("table",{className:"table table-striped",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Done"}),Object(j.jsx)("th",{children:"Edit"}),Object(j.jsx)("th",{children:"Delete"})]})}),Object(j.jsx)("tbody",{children:e.toDoItems.map((function(t){return Object(j.jsx)(O,{toDoItem:t,deleteCallback:e.deleteCallback,checkDoneCallback:e.checkDoneCallback,editCallback:e.editCallback},t.id)}))})]})})}var p=[{id:1,description:"Item 1",done:!0},{id:2,description:"Item 2",done:!1},{id:3,description:"Item 3",done:!1}];function m(e){var t=Object(n.useState)(!0),c=Object(r.a)(t,2),i=c[0],o=c[1],a=Object(n.useState)(p),s=Object(r.a)(a,2),l=s[0],h=s[1],u=Object(n.useState)({id:-1,description:"",done:!1}),O=Object(r.a)(u,2),m=O[0],x=O[1];Object(n.useEffect)((function(){fetch("http://todo-app-server.azurewebsites.net/Todoitem").then((function(e){return e.json()})).then((function(e){h(e),o(!1)}),(function(e){}))}),[]);var v=function(e,t){return{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}},k=function(e){var t=v("POST",e);fetch("http://todo-app-server.azurewebsites.net/Todoitem",t).then((function(e){return e.json()})).then((function(t){e.id=t.id,h([].concat(Object(d.a)(l),[e]))}))},C=function(e){var t=v("PUT",e);fetch("http://todo-app-server.azurewebsites.net/Todoitem/"+e.id,t).then((function(){h(l.map((function(t){return t.id===e.id?e:t})))}))};return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"text-center",children:"To Do App"}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-6",children:Object(j.jsx)(f,{loading:i,deleteCallback:function(e){var t=v("DELETE");fetch("http://todo-app-server.azurewebsites.net/Todoitem/"+e,t).then((function(){h(l.filter((function(t){return t.id!==e})))}))},checkDoneCallback:function(e){if(!i){var t=l.filter((function(t){return t.id===e}))[0];t.done=!t.done;var c=v("PUT",t);fetch("http://todo-app-server.azurewebsites.net/Todoitem/"+e,c).then((function(){h(l.map((function(c){return c.id===e?t:c})))}))}},editCallback:function(e){var t=l.filter((function(t){return t.id===e}))[0];null!==t&&x(t)},toDoItems:l})}),Object(j.jsx)("div",{className:"col-6",children:Object(j.jsx)(b,{editItem:m,createToDoCallback:function(e){-1===m.id?k(e):C(e)},cancelEditCallback:function(){x({id:-1,description:"",done:!1})}})})]})]})}c(25);a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),s()}},[[26,1,2]]]);
//# sourceMappingURL=main.f31f7a1f.chunk.js.map